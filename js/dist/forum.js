(()=>{var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var r in t)e.o(t,r)&&!e.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:t[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};(()=>{"use strict";e.r(o);const t=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/app"];var n=e.n(r);const a=flarum.core.compat["forum/components/HeaderSecondary"];var c=e.n(a);const i=flarum.core.compat["forum/components/SettingsPage"];var s=e.n(i);const l=flarum.core.compat["forum/components/LogInModal"];var u=e.n(l);function f(){var e="https://account.africoders.com";return-1!==location.href.indexOf(".test")&&(e="https://account.africoders.test"),{login:{url:e+"/?action=login&continue="+escape(location.href),itemName:"logIn",removeItem:!1,text:n().translator.trans("core.forum.header.log_in_link")},signup:{url:e+"/?action=signup&continue="+escape(location.href),itemName:"signUp",removeItem:!1,text:n().translator.trans("core.forum.header.sign_up_link")}}}n().initializers.add("africoders-laravel-sso",(function(){(0,t.override)(u().prototype,"oncreate",(function(){console.log("Login modal shown");var e=f();throw window.location.href=e.login.url,new Error("Stop execution")})),(0,t.extend)(c().prototype,"items",(function(e){console.log("Secondary button shown");for(var o=f(),t=0,r=Object.entries(o);t<r.length;t++){var n=r[t][1];if(n.url)if(n.removeItem)e.remove(n.itemName);else{if(!e.has(n.itemName))return;e.setContent(n.itemName,m("a",{href:n.url,className:"Button Button--link"},n.text))}}})),(0,t.extend)(s().prototype,"accountItems",(function(e){console.log(e);var o="https://account.africoders.com";-1!==location.href.indexOf(".test")&&(o="https://account.africoders.test"),e.remove("changeEmail"),e.remove("changePassword"),e.add("manageAccount",m("a",{class:"Button",href:o,target:""},n().translator.trans("maicol07-sso.forum.manage_account_btn")))}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map